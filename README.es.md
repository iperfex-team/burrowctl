# üêá burrowctl

<div align="center">
  <h3>Ejecuci√≥n Remota de SQL y Control de Dispositivos v√≠a RabbitMQ</h3>
  <p>
    <strong>burrowctl</strong> es una potente librer√≠a y servicio de Go que proporciona un puente basado en RabbitMQ para ejecutar remotamente consultas SQL, funciones personalizadas y comandos del sistema en dispositivos detr√°s de NAT o firewalls.
  </p>
  <p>
    <a href="./README.md">üá∫üá∏ English</a> | 
    <a href="./README.es.md">üá™üá∏ Espa√±ol</a> | 
    <a href="./README.pt.md">üáßüá∑ Portugu√™s</a>
  </p>
</div>

## üéØ ¬øQu√© es burrowctl?

**burrowctl** permite acceso seguro a bases de datos remotas y control de dispositivos sin exponer conexiones directas. Es perfecto para:

- üè¢ **Plataformas SaaS**: Gestionar bases de datos de clientes detr√°s de NAT/firewalls
- üåê **Gesti√≥n IoT**: Controlar dispositivos distribuidos de forma segura
- üîê **Administraci√≥n Remota**: Ejecutar consultas y comandos sin SSH/acceso directo a BD
- üìä **Monitoreo Distribuido**: Recopilar datos de m√∫ltiples fuentes remotas

## ‚ú® Caracter√≠sticas Principales

### üîå **Soporte Multi-Cliente**
- **Cliente Go**: Compatibilidad nativa con driver `database/sql`
- **Cliente Node.js/TypeScript**: API async moderna con tipado completo
- **DSN Universal**: Mismo formato de cadena de conexi√≥n para todos los clientes

### üöÄ **Tres Tipos de Ejecuci√≥n**
- **Consultas SQL**: Acceso directo a base de datos con binding de par√°metros
- **Funciones Personalizadas**: Sistema de funciones extensible con 16+ funciones incorporadas
- **Comandos del Sistema**: Ejecutar comandos del SO con acceso controlado

### üîí **Listo para Empresa**
- **Transporte Seguro**: Protocolo RabbitMQ AMQP 0-9-1
- **Pool de Conexiones**: Pools de conexiones de base de datos configurables
- **Manejo de Errores**: Gesti√≥n integral de errores y debugging
- **Control de Timeouts**: Timeouts configurables para consultas y comandos

### üì¶ **Caracter√≠sticas de Producci√≥n**
- **Soporte Docker**: Entorno de desarrollo completamente containerizado
- **Automatizaci√≥n Makefile**: Automatizaci√≥n de build, test y despliegue
- **Control de Versiones**: Versionado sem√°ntico autom√°tico
- **M√∫ltiples Ejemplos**: Ejemplos de uso y documentaci√≥n comprensiva

---

## üöÄ Inicio R√°pido

### Prerrequisitos

- **Go 1.22+** para cliente/servidor Go
- **Node.js 16+** para cliente TypeScript
- Servidor **RabbitMQ** ejecut√°ndose
- Base de datos **MySQL/MariaDB**

### Instalaci√≥n

```bash
git clone https://github.com/lordbasex/burrowctl.git
cd burrowctl
go mod tidy
```

### Uso B√°sico

#### Cliente Extendido (Recomendado)
```go
package main

import (
    "log"
    "github.com/lordbasex/burrowctl/client"
)

func main() {
    dsn := "deviceID=mi-dispositivo&amqp_uri=amqp://user:pass@localhost:5672/&timeout=10s"
    
    // Crear cliente extendido
    bc, err := client.NewBurrowClient(dsn)
    if err != nil {
        log.Fatal("Fall√≥ la conexi√≥n:", err)
    }
    defer bc.Close()
    
    // Ejecutar consulta SQL
    rows, err := bc.Query("SELECT id, name FROM users WHERE active = ?", true)
    if err != nil {
        log.Fatal("Fall√≥ la consulta:", err)
    }
    defer rows.Close()
    
    // Ejecutar comando del sistema
    result, err := bc.ExecCommand("df -h")
    if err != nil {
        log.Fatal("Fall√≥ el comando:", err)
    }
    log.Printf("Salida del comando: %v", result.Stdout)
    
    // Ejecutar funci√≥n personalizada
    funcResult, err := bc.ExecFunction("lengthOfString", 
        client.StringParam("¬°Hola, Mundo!"),
    )
    if err != nil {
        log.Fatal("Fall√≥ la funci√≥n:", err)
    }
    log.Printf("Resultado de la funci√≥n: %v", funcResult.Result)
}
```

#### Cliente Go (SQL)
```go
package main

import (
    "database/sql"
    "fmt"
    "log"
    _ "github.com/lordbasex/burrowctl/client"
)

func main() {
    dsn := "deviceID=mi-dispositivo&amqp_uri=amqp://user:pass@localhost:5672/&timeout=10s&debug=true"
    
    db, err := sql.Open("rabbitsql", dsn)
    if err != nil {
        log.Fatal("Fall√≥ la conexi√≥n:", err)
    }
    defer db.Close()
    
    rows, err := db.Query("SELECT id, name FROM users WHERE active = ?", true)
    if err != nil {
        log.Fatal("Fall√≥ la consulta:", err)
    }
    defer rows.Close()
    
    for rows.Next() {
        var id int
        var name string
        rows.Scan(&id, &name)
        fmt.Printf("ID: %d, Nombre: %s\n", id, name)
    }
}
```

#### Cliente Node.js/TypeScript
```typescript
import { createClient } from 'burrowctl-client-nodejs';

const client = await createClient(
  'deviceID=mi-dispositivo&amqp_uri=amqp://user:pass@localhost:5672/&timeout=10s'
);

const rows = await client.query('SELECT * FROM users WHERE active = ?', [true]);
console.log('Resultados:', rows.getRows());
console.log('Columnas:', rows.getColumns());

await client.close();
```

#### Configuraci√≥n del Servidor
```go
package main

import (
    "context"
    "log"
    "time"
    "github.com/lordbasex/burrowctl/server"
)

func main() {
    pool := &server.PoolConfig{
        MaxIdleConns:    10,
        MaxOpenConns:    20,
        ConnMaxLifetime: 5 * time.Minute,
    }
    
    handler := server.NewHandler(
        "mi-dispositivo",                               // ID del dispositivo
        "amqp://user:pass@localhost:5672/",            // URI RabbitMQ
        "user:pass@tcp(localhost:3306)/dbname",        // DSN MySQL
        "open",                                        // Modo de conexi√≥n
        pool,                                          // Configuraci√≥n del pool
    )
    
    // Registrar funciones personalizadas
    handler.RegisterFunction("obtenerInfoSistema", obtenerInfoSistema)
    handler.RegisterFunction("procesarDatos", procesarDatos)
    
    ctx := context.Background()
    log.Println("Iniciando servidor burrowctl...")
    if err := handler.Start(ctx); err != nil {
        log.Fatal("Fall√≥ el servidor:", err)
    }
}
```

---

## üìñ Tipos de Ejecuci√≥n

### 1. üóÉÔ∏è Consultas SQL (`sql`)

Ejecuta consultas SQL directas con binding de par√°metros y soporte completo de transacciones.

```go
// Cliente Go
rows, err := db.Query("SELECT * FROM products WHERE category = ? AND price > ?", "electronics", 100)

// Cliente Node.js
const rows = await client.query("SELECT * FROM products WHERE category = ? AND price > ?", ["electronics", 100]);
```

**Caracter√≠sticas:**
- Binding de par√°metros para seguridad
- Soporte de transacciones
- Pool de conexiones
- Manejo de resultados con tipado seguro

### 2. ‚öôÔ∏è Funciones Personalizadas (`function`)

Ejecuta funciones del lado del servidor con par√°metros tipados y m√∫ltiples valores de retorno.

```go
// Cliente Go - usando solicitud de funci√≥n JSON
funcReq := FunctionRequest{
    Name: "calcularImpuesto",
    Params: []FunctionParam{
        {Type: "float64", Value: 100.0},
        {Type: "string", Value: "ES"},
    },
}
jsonData, _ := json.Marshal(funcReq)
rows, err := db.Query("FUNCTION:" + string(jsonData))
```

```typescript
// Cliente Node.js
const result = await client.query('FUNCTION:{"name":"calcularImpuesto","params":[{"type":"float64","value":100.0},{"type":"string","value":"ES"}]}');
```

**Funciones Incorporadas (16+):**
- `lengthOfString`: Obtener longitud de cadena
- `addIntegers`: Sumar dos enteros
- `getCurrentTimestamp`: Obtener timestamp actual
- `generateUUID`: Generar UUID
- `encodeBase64`: Codificaci√≥n Base64
- `decodeBase64`: Decodificaci√≥n Base64
- `parseJSON`: Parsear cadena JSON
- `formatJSON`: Formatear JSON con indentaci√≥n
- `getSystemInfo`: Obtener informaci√≥n del sistema
- `listFiles`: Listar contenido de directorio
- `readFile`: Leer contenido de archivo
- `writeFile`: Escribir contenido de archivo
- `calculateHash`: Calcular hash SHA256
- `validateEmail`: Validar direcci√≥n de email
- `generateRandomString`: Generar cadena aleatoria
- `convertTimezone`: Convertir zona horaria

### 3. üñ•Ô∏è Comandos del Sistema (`command`)

Ejecuta comandos del sistema con acceso controlado y gesti√≥n de timeouts.

```go
// Cliente Go
rows, err := db.Query("COMMAND:ps aux | grep mysql")
rows, err := db.Query("COMMAND:df -h")
rows, err := db.Query("COMMAND:systemctl status nginx")
```

```typescript
// Cliente Node.js
const result = await client.query('COMMAND:ps aux | grep mysql');
const diskUsage = await client.query('COMMAND:df -h');
```

**Caracter√≠sticas:**
- Captura de stdout/stderr
- Timeouts configurables
- Preservaci√≥n de salida l√≠nea por l√≠nea
- Manejo de c√≥digos de error

---

## üîß Configuraci√≥n

### Formato DSN
```
deviceID=<id-dispositivo>&amqp_uri=<url-rabbitmq>&timeout=<timeout>&debug=<boolean>
```

**Par√°metros:**
- `deviceID`: Identificador √∫nico del dispositivo (t√≠picamente hash SHA256)
- `amqp_uri`: URL de conexi√≥n RabbitMQ
- `timeout`: Timeout de consulta (ej., `5s`, `30s`, `2m`)
- `debug`: Habilitar logging de debug (`true`/`false`)

### Configuraci√≥n del Pool de Conexiones
```go
pool := &server.PoolConfig{
    MaxIdleConns:    10,          // M√°ximo de conexiones idle
    MaxOpenConns:    20,          // M√°ximo de conexiones abiertas
    ConnMaxLifetime: 5 * time.Minute, // Tiempo de vida de conexi√≥n
}
```

### Modos de Conexi√≥n
- **`open`**: Mantiene pool de conexiones (por defecto, mejor rendimiento)
- **`close`**: Abre/cierra conexiones por consulta (m√°s seguro, m√°s lento)

---

## üõ†Ô∏è Desarrollo

### Configuraci√≥n R√°pida de Desarrollo
```bash
# Clonar y configurar
git clone https://github.com/lordbasex/burrowctl.git
cd burrowctl

# Iniciar entorno de desarrollo (Docker)
cd examples/server
docker-compose up -d

# Construir proyecto
make build

# Ejecutar ejemplos
make run-server-example
make run-sql-example
make run-function-example
make run-command-example
```

### Comandos Make Disponibles
```bash
make help                    # Mostrar todos los comandos disponibles
make build                   # Construir todos los componentes
make test                    # Ejecutar pruebas
make clean                   # Limpiar artefactos de build

# Entornos Docker
make docker-up              # Entorno servidor b√°sico
make docker-up-advanced     # Entorno servidor avanzado
make docker-up-cache        # Servidor optimizado para cache
make docker-up-validation   # Servidor de validaci√≥n SQL
make docker-up-full         # Servidor empresarial completo

# Ejemplos de servidor
make run-server-example     # Servidor b√°sico
make run-server-advanced    # Servidor avanzado
make run-server-cache       # Servidor optimizado para cache
make run-server-validation  # Servidor de validaci√≥n SQL
make run-server-full        # Servidor empresarial completo

# Ejemplos de cliente
make run-sql-example        # Ejemplo de cliente SQL
make run-function-example   # Ejemplo de cliente de funciones
make run-command-example    # Ejemplo de cliente de comandos
```

---

## üèóÔ∏è Arquitectura

### Componentes del Sistema

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   Cliente Go    ‚îÇ    ‚îÇ   Cliente       ‚îÇ    ‚îÇ   Futuros       ‚îÇ
‚îÇ   (database/sql)‚îÇ    ‚îÇ   Node.js       ‚îÇ    ‚îÇ   Clientes      ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
          ‚îÇ                      ‚îÇ                      ‚îÇ
          ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                                 ‚îÇ
                    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                    ‚îÇ       RabbitMQ             ‚îÇ
                    ‚îÇ    (AMQP 0-9-1)           ‚îÇ
                    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                                 ‚îÇ
                ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                ‚îÇ       Servidor burrowctl           ‚îÇ
                ‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê   ‚îÇ
                ‚îÇ  ‚îÇ    Motor SQL               ‚îÇ   ‚îÇ
                ‚îÇ  ‚îÇ    Registro de Funciones   ‚îÇ   ‚îÇ
                ‚îÇ  ‚îÇ    Ejecutor de Comandos    ‚îÇ   ‚îÇ
                ‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   ‚îÇ
                ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                                 ‚îÇ
                    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                    ‚îÇ       MySQL/MariaDB        ‚îÇ
                    ‚îÇ       Sistema de Archivos  ‚îÇ
                    ‚îÇ       Comandos del Sistema ‚îÇ
                    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### Flujo de Mensajes

1. **Cliente**: Env√≠a solicitud a cola RabbitMQ espec√≠fica del dispositivo
2. **RabbitMQ**: Enruta mensaje a cola apropiada del dispositivo
3. **Servidor**: Procesa solicitud basado en tipo (`sql`, `function`, `command`)
4. **Ejecuci√≥n**: Ejecuta contra base de datos, registro de funciones, o sistema
5. **Respuesta**: Retorna resultados v√≠a cola de respuesta RabbitMQ
6. **Cliente**: Recibe y procesa respuesta

---

## üìÅ Estructura del Proyecto

```
burrowctl/
‚îú‚îÄ‚îÄ client/                 # Cliente Go (driver database/sql)
‚îÇ   ‚îú‚îÄ‚îÄ driver.go          # Implementaci√≥n del driver SQL
‚îÇ   ‚îú‚îÄ‚îÄ conn.go            # Gesti√≥n de conexiones
‚îÇ   ‚îú‚îÄ‚îÄ rows.go            # Manejo de resultados
‚îÇ   ‚îî‚îÄ‚îÄ rpc.go             # Cliente RPC RabbitMQ
‚îú‚îÄ‚îÄ server/                 # Librer√≠a del servidor core
‚îÇ   ‚îî‚îÄ‚îÄ server.go          # Implementaci√≥n del servidor
‚îú‚îÄ‚îÄ client-nodejs/          # Cliente Node.js/TypeScript
‚îÇ   ‚îú‚îÄ‚îÄ src/               # C√≥digo fuente TypeScript
‚îÇ   ‚îú‚îÄ‚îÄ dist/              # JavaScript compilado
‚îÇ   ‚îî‚îÄ‚îÄ package.json       # Configuraci√≥n del paquete NPM
‚îú‚îÄ‚îÄ examples/              # Ejemplos de uso
‚îÇ   ‚îú‚îÄ‚îÄ client/            # Ejemplos de cliente
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ sql-example/   # Uso de SQL
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ function-example/ # Uso de funciones
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ command-example/  # Uso de comandos
‚îÇ   ‚îî‚îÄ‚îÄ server/            # Ejemplos de servidor
‚îÇ       ‚îú‚îÄ‚îÄ Dockerfile       # Build Docker universal
‚îÇ       ‚îú‚îÄ‚îÄ basic/           # Servidor b√°sico (main.go)
‚îÇ       ‚îî‚îÄ‚îÄ advanced/        # Servidores empresariales
‚îÇ           ‚îú‚îÄ‚îÄ main.go      # Servidor avanzado
‚îÇ           ‚îú‚îÄ‚îÄ cache-server/    # Optimizado para cache
‚îÇ           ‚îú‚îÄ‚îÄ validation-server/ # Seguridad SQL
‚îÇ           ‚îî‚îÄ‚îÄ full-featured-server/ # Empresarial completo
‚îú‚îÄ‚îÄ Makefile              # Automatizaci√≥n de build
‚îú‚îÄ‚îÄ go.mod               # Dependencias del m√≥dulo Go
‚îî‚îÄ‚îÄ version.txt          # Informaci√≥n de versi√≥n
```

---

## üöÄ **Ejemplos de Servidor**

burrowctl ahora proporciona m√∫ltiples configuraciones de servidor para diferentes casos de uso:

### üìã **Servidor B√°sico** (`examples/server/basic/`)
Implementaci√≥n simple del servidor para comenzar:
```bash
make run-server-example
# o
cd examples/server/basic && go run main.go
```

### üöÄ **Servidor Avanzado** (`examples/server/advanced/`)
Servidor empresarial con caracter√≠sticas de rendimiento:
```bash
make run-server-advanced
# o
cd examples/server/advanced && go run main.go
```

### üìà **Servidor de Cache** (`examples/server/advanced/cache-server/`)
Optimizado para almacenamiento en cach√© de consultas de alto volumen:
```bash
make run-server-cache
# o
cd examples/server/advanced/cache-server && go run main.go
```

### üõ°Ô∏è **Servidor de Validaci√≥n** (`examples/server/advanced/validation-server/`)
Enfocado en seguridad SQL y validaci√≥n:
```bash
make run-server-validation
# o
cd examples/server/advanced/validation-server && go run main.go
```

### üè¢ **Servidor Completo** (`examples/server/advanced/full-featured-server/`)
Servidor empresarial completo con todas las caracter√≠sticas:
```bash
make run-server-full
# o
cd examples/server/advanced/full-featured-server && go run main.go
```

## üöÄ **Configuraci√≥n Empresarial**

### Servidor de Alto Rendimiento
```bash
# Servidor avanzado con configuraci√≥n optimizada
cd examples/server/advanced
go run main.go \
  -workers=20 \
  -queue-size=500 \
  -rate-limit=50 \
  -pool-open=50

# O con Docker (configurado autom√°ticamente)
docker-compose up -d
```

### Caracter√≠sticas Avanzadas del Cliente
```bash
# Cliente avanzado con todas las caracter√≠sticas
cd examples/client/advanced
go run advanced-main.go -prepared -timeout=30s

# Prueba de estr√©s (demo de limitaci√≥n de velocidad)
go run advanced-main.go -stress -concurrent=10 -requests=100

# Demo de reconexi√≥n
go run advanced-main.go -reconnect-demo
```

### Comparaci√≥n de Rendimiento
| Caracter√≠stica | B√°sico | Avanzado |
|----------------|--------|----------|
| **Rendimiento** | ~100 req/s | ~1000+ req/s |
| **Concurrencia** | Secuencial | 10-50+ paralelo |
| **Protecci√≥n de Velocidad** | Ninguna | Limitaci√≥n por cliente |
| **Reconexi√≥n** | Manual | Autom√°tica |
| **Preparaci√≥n** | No | S√≠ |

---

## üîê Consideraciones de Seguridad

### Mejores Pr√°cticas

1. **Usar Credenciales Fuertes**: Siempre usar contrase√±as fuertes para RabbitMQ y base de datos
2. **Habilitar TLS**: Usar TLS/SSL para conexiones RabbitMQ en producci√≥n
3. **Limitar Acceso a Funciones**: Solo registrar funciones necesarias en el servidor
4. **Restricciones de Comandos**: Implementar lista blanca de comandos para seguridad
5. **Aislamiento de Red**: Usar VPNs o redes privadas cuando sea posible
6. **Monitoreo**: Implementar logging y monitoreo para auditor√≠a de seguridad

### Configuraci√≥n de Producci√≥n

```go
// Configuraci√≥n del servidor para producci√≥n
handler := server.NewHandler(
    os.Getenv("DEVICE_ID"),
    os.Getenv("AMQP_URI"),     // Usar TLS: amqps://user:pass@host:5671/
    os.Getenv("MYSQL_DSN"),    // Usar SSL: ?tls=true
    "open",
    &server.PoolConfig{
        MaxIdleConns:    5,
        MaxOpenConns:    10,
        ConnMaxLifetime: 2 * time.Minute,
    },
)
```

---

## ü§ù Contribuir

¬°Damos la bienvenida a contribuciones! Por favor vea nuestra [Gu√≠a de Contribuci√≥n](CONTRIBUTING.md) para detalles.

### Configuraci√≥n de Desarrollo

1. Fork el repositorio
2. Crear una rama de feature: `git checkout -b feature/caracteristica-increible`
3. Realizar cambios
4. Agregar tests para nueva funcionalidad
5. Ejecutar tests: `make test`
6. Commit de cambios: `git commit -m 'Agregar caracter√≠stica incre√≠ble'`
7. Push a la rama: `git push origin feature/caracteristica-increible`
8. Abrir un Pull Request

---

## üìú Licencia

Este proyecto est√° licenciado bajo la Licencia MIT - vea el archivo [LICENSE](LICENSE) para detalles.

---

## üÜò Soporte

- **Documentaci√≥n**: [Documentaci√≥n completa](./examples/)
- **Ejemplos**: [Ejemplos de uso](./examples/client/)
- **Issues**: [GitHub Issues](https://github.com/lordbasex/burrowctl/issues)
- **Discusiones**: [GitHub Discussions](https://github.com/lordbasex/burrowctl/discussions)

---

## üôè Agradecimientos

- [RabbitMQ](https://www.rabbitmq.com/) por el excelente broker de mensajes
- [Go SQL Driver](https://github.com/go-sql-driver/mysql) por la conectividad MySQL
- [AMQP 0-9-1 Go Client](https://github.com/rabbitmq/amqp091-go) por la integraci√≥n RabbitMQ
- Las comunidades Go y Node.js por sus excelentes ecosistemas

---

## üìÑ Licencia

Este proyecto est√° licenciado bajo la Licencia Apache 2.0 - consulte el archivo [LICENSE](LICENSE) para m√°s detalles.

Copyright (c) 2024 Federico Pereira <lord.basex@gmail.com>

---

<div align="center">
  <p>Hecho con ‚ù§Ô∏è por el equipo burrowctl</p>
  <p>
    <a href="https://github.com/lordbasex/burrowctl/stargazers">‚≠ê Dar estrella a este proyecto</a> | 
    <a href="https://github.com/lordbasex/burrowctl/issues">üêõ Reportar Bug</a> | 
    <a href="https://github.com/lordbasex/burrowctl/issues">üí° Solicitar Feature</a>
  </p>
</div>