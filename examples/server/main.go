package main

import (
	"context"
	"log"
	"time"

	"github.com/lordbasex/burrowctl/server"
)

func main() {
	// ConfiguraciÃ³n programÃ¡tica - forzada en variables
	config := &server.ServerConfig{
		// Device and connection configuration
		DeviceID: "my-custom-device",
		AMQPURL:  "amqp://burrowuser:burrowpass123@localhost:5672/",
		MySQLDSN: "burrowuser:burrowpass123@tcp(localhost:3306)/burrowdb",

		// RabbitMQ Reconnection configuration
		// Esta configuraciÃ³n controla el comportamiento de reconexiÃ³n automÃ¡tica del cliente
		// cuando se pierde la conexiÃ³n con RabbitMQ. Es especialmente Ãºtil en entornos
		// donde la conectividad de red puede ser inestable o cuando el servidor RabbitMQ
		// se reinicia. El cliente intentarÃ¡ reconectarse automÃ¡ticamente con backoff exponencial.
		// IMPORTANTE: MaxAttempts = 0 significa reconexiÃ³n infinita (recomendado para producciÃ³n).
		// Esta configuraciÃ³n es ideal para perÃ­odos largos sin internet (horas o dÃ­as).
		//
		// PROGRESIÃ“N DE INTENTOS CON LA CONFIGURACIÃ“N ACTUAL:
		// â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
		// â”‚ Intento â”‚ Tiempo Espera   â”‚ Tiempo Acumuladoâ”‚ Estado          â”‚
		// â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
		// â”‚    1    â”‚      2s         â”‚       2s        â”‚ Intento inicial â”‚
		// â”‚    2    â”‚      3s         â”‚       5s        â”‚ Backoff 1.5x    â”‚
		// â”‚    3    â”‚    4.5s         â”‚     9.5s        â”‚ Backoff 1.5x    â”‚
		// â”‚    4    â”‚   6.75s         â”‚    16.25s       â”‚ Backoff 1.5x    â”‚
		// â”‚    5    â”‚  10.125s        â”‚    26.375s      â”‚ Backoff 1.5x    â”‚
		// â”‚    6    â”‚  15.187s        â”‚    41.562s      â”‚ Backoff 1.5x    â”‚
		// â”‚    7    â”‚  22.781s        â”‚    64.343s      â”‚ Backoff 1.5x    â”‚
		// â”‚    8    â”‚  34.172s        â”‚    98.515s      â”‚ Backoff 1.5x    â”‚
		// â”‚    9    â”‚  51.258s        â”‚   149.773s      â”‚ Backoff 1.5x    â”‚
		// â”‚   10    â”‚  76.887s        â”‚   226.66s       â”‚ Backoff 1.5x    â”‚
		// â”‚   11+   â”‚    120s         â”‚   MÃ¡ximo 2min   â”‚ LÃ­mite alcanzadoâ”‚
		// â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
		//
		// ESCENARIOS DE USO:
		// â€¢ 1 hora sin internet: 30+ intentos, mÃ¡ximo 2min entre intentos
		// â€¢ 10 horas sin internet: 300+ intentos, mÃ¡ximo 2min entre intentos
		// â€¢ 1 dÃ­a sin internet: 720+ intentos, mÃ¡ximo 2min entre intentos
		// â€¢ Cualquier duraciÃ³n: NUNCA se rinde, reconexiÃ³n infinita
		ReconnectEnabled:           true,
		ReconnectMaxAttempts:       0,                 // 0 = ReconexiÃ³n infinita (nunca se rinde)
		ReconnectInitialInterval:   2 * time.Second,   // Empieza con 2 segundos
		ReconnectMaxInterval:       120 * time.Second, // MÃ¡ximo 2 minutos (ideal para perÃ­odos largos)
		ReconnectBackoffMultiplier: 1.5,               // Multiplicador personalizado
		ReconnectResetInterval:     10 * time.Minute,  // Reset despuÃ©s de 10 min de Ã©xito

		// Query Cache configuration
		// El cache de queries mejora significativamente el rendimiento al almacenar
		// resultados de consultas SQL frecuentes en memoria. Reduce la carga en la
		// base de datos y acelera las respuestas para queries repetidas. El cache
		// se limpia automÃ¡ticamente para evitar el uso excesivo de memoria.
		//
		// FUNCIONAMIENTO DEL CACHE:
		// â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
		// â”‚ Query Recibida  â”‚ Cache Hit/Miss  â”‚ AcciÃ³n          â”‚ Tiempo Respuestaâ”‚
		// â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
		// â”‚ SELECT * FROM   â”‚     MISS        â”‚ Ejecuta en DB   â”‚     ~50ms       â”‚
		// â”‚ users WHERE id=1â”‚                 â”‚ + Guarda en     â”‚                 â”‚
		// â”‚                 â”‚                 â”‚   cache         â”‚                 â”‚
		// â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
		// â”‚ SELECT * FROM   â”‚      HIT        â”‚ Retorna desde   â”‚     ~2ms        â”‚
		// â”‚ users WHERE id=1â”‚                 â”‚   cache         â”‚                 â”‚
		// â”‚                 â”‚                 â”‚ (sin DB)        â”‚                 â”‚
		// â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
		// â”‚ SELECT * FROM   â”‚     MISS        â”‚ Ejecuta en DB   â”‚     ~50ms       â”‚
		// â”‚ users WHERE id=2â”‚                 â”‚ + Guarda en     â”‚                 â”‚
		// â”‚                 â”‚                 â”‚   cache         â”‚                 â”‚
		// â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
		//
		// CONFIGURACIÃ“N ACTUAL:
		// â€¢ Cache Size: 3000 queries (mÃ¡ximo en memoria)
		// â€¢ TTL: 20 minutos (tiempo de vida de cada entrada)
		// â€¢ Cleanup: 8 minutos (limpieza automÃ¡tica)
		// â€¢ Beneficio: 25x mÃ¡s rÃ¡pido para queries repetidas
		//
		// CONSUMO DE MEMORIA DEL CACHE (3000 queries):
		// â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
		// â”‚ TamaÃ±o Query    â”‚ Registros por   â”‚ Memoria por     â”‚ Memoria Total   â”‚
		// â”‚ Resultado       â”‚ Query           â”‚ Query           â”‚ (3000 queries)  â”‚
		// â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
		// â”‚ Query pequeÃ±a   â”‚ 1-10 registros  â”‚ ~2-5 KB         â”‚ ~6-15 MB        â”‚
		// â”‚ (configuraciÃ³n) â”‚                 â”‚                 â”‚                 â”‚
		// â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
		// â”‚ Query mediana   â”‚ 10-100 registrosâ”‚ ~5-50 KB        â”‚ ~15-150 MB      â”‚
		// â”‚ (lookup tables) â”‚                 â”‚                 â”‚                 â”‚
		// â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
		// â”‚ Query grande    â”‚ 100-1000 reg.   â”‚ ~50-500 KB      â”‚ ~150-1.5 GB     â”‚
		// â”‚ (reportes)      â”‚                 â”‚                 â”‚                 â”‚
		// â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
		// â”‚ Query muy grandeâ”‚ 1000+ registros â”‚ ~500 KB-5 MB    â”‚ ~1.5-15 GB      â”‚
		// â”‚ (datasets)      â”‚                 â”‚                 â”‚                 â”‚
		// â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
		//
		// EJEMPLOS PRÃCTICOS:
		// â€¢ SELECT config: ~2 KB Ã— 3000 = ~6 MB (muy eficiente)
		// â€¢ SELECT users: ~20 KB Ã— 3000 = ~60 MB (eficiente)
		// â€¢ SELECT reports: ~200 KB Ã— 3000 = ~600 MB (moderado)
		// â€¢ SELECT datasets: ~2 MB Ã— 3000 = ~6 GB (alto consumo)
		//
		// RECOMENDACIÃ“N: Para la mayorÃ­a de casos, 3000 queries
		// consume entre 50-500 MB de memoria, que es muy razonable.
		// El cache se limpia automÃ¡ticamente cada 8 minutos.
		//
		// MECANISMOS DE LIMPIEZA DEL CACHE:
		// â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
		// â”‚ Mecanismo       â”‚ Frecuencia      â”‚ QuÃ© Elimina     â”‚ CuÃ¡ndo          â”‚
		// â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
		// â”‚ CacheTTL        â”‚ En cada acceso  â”‚ Entrada expiradaâ”‚ Al acceder a    â”‚
		// â”‚ (20 min)        â”‚ a la entrada    â”‚ individual      â”‚ entrada del     â”‚
		// â”‚                 â”‚                 â”‚                 â”‚ cache           â”‚
		// â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
		// â”‚ CacheCleanup    â”‚ Cada 8 minutos  â”‚ Todas las       â”‚ AutomÃ¡ticamente â”‚
		// â”‚ (8 min)         â”‚ (programado)    â”‚ entradas        â”‚ en background   â”‚
		// â”‚                 â”‚                 â”‚ huÃ©rfanas       â”‚                 â”‚
		// â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
		//
		// CICLO DE VIDA DE UNA ENTRADA EN CACHE:
		// â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
		// â”‚ Tiempo  â”‚ Estado          â”‚ AcciÃ³n          â”‚ Memoria         â”‚
		// â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
		// â”‚ 0 min   â”‚ Query ejecutada â”‚ Se guarda en    â”‚ +2-5 KB         â”‚
		// â”‚         â”‚                 â”‚ cache           â”‚                 â”‚
		// â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
		// â”‚ 5 min   â”‚ Query repetida  â”‚ Se sirve desde  â”‚ Sin cambio      â”‚
		// â”‚         â”‚                 â”‚ cache (rÃ¡pido)  â”‚                 â”‚
		// â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
		// â”‚ 8 min   â”‚ Cleanup ejecuta â”‚ Elimina otras   â”‚ -entradas       â”‚
		// â”‚         â”‚                 â”‚ entradas exp.   â”‚ huÃ©rfanas       â”‚
		// â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
		// â”‚ 15 min  â”‚ Query repetida  â”‚ Se sirve desde  â”‚ Sin cambio      â”‚
		// â”‚         â”‚                 â”‚ cache (rÃ¡pido)  â”‚                 â”‚
		// â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
		// â”‚ 20 min  â”‚ TTL expira      â”‚ Se elimina al   â”‚ -2-5 KB         â”‚
		// â”‚         â”‚                 â”‚ prÃ³ximo acceso  â”‚                 â”‚
		// â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
		//
		// BENEFICIOS DE ESTE SISTEMA:
		// â€¢ CacheTTL: Garantiza datos frescos (mÃ¡ximo 20 min de antigÃ¼edad)
		// â€¢ CacheCleanup: Libera memoria automÃ¡ticamente (cada 8 min)
		// â€¢ Sin entradas huÃ©rfanas: Limpieza proactiva
		// â€¢ Rendimiento Ã³ptimo: Datos frescos + memoria controlada
		//
		// ESCENARIOS DE USO:
		// â€¢ Queries frecuentes: SELECT de configuraciÃ³n, lookup tables
		// â€¢ Reportes repetidos: EstadÃ­sticas, dashboards
		// â€¢ Datos estÃ¡ticos: CatÃ¡logos, referencias
		// â€¢ ReducciÃ³n de carga: Menos conexiones a la base de datos
		//
		// QUERIES AFECTADAS POR EL CACHE:
		// â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
		// â”‚ Tipo de Query   â”‚ Se Cachea       â”‚ Ejemplo         â”‚ RazÃ³n           â”‚
		// â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
		// â”‚ SELECT simple   â”‚      âœ…         â”‚ SELECT * FROM   â”‚ Datos estÃ¡ticos â”‚
		// â”‚                 â”‚                 â”‚ users           â”‚                 â”‚
		// â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
		// â”‚ SELECT con WHEREâ”‚      âœ…         â”‚ SELECT * FROM   â”‚ Lookups         â”‚
		// â”‚                 â”‚                 â”‚ users WHERE     â”‚ frecuentes      â”‚
		// â”‚                 â”‚                 â”‚ id = 1          â”‚                 â”‚
		// â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
		// â”‚ SELECT con JOIN â”‚      âœ…         â”‚ SELECT u.*, p.* â”‚ Consultas       â”‚
		// â”‚                 â”‚                 â”‚ FROM users u    â”‚ complejas       â”‚
		// â”‚                 â”‚                 â”‚ JOIN profiles p â”‚ repetidas       â”‚
		// â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
		// â”‚ INSERT/UPDATE   â”‚      âŒ         â”‚ INSERT INTO     â”‚ Modifica datos  â”‚
		// â”‚                 â”‚                 â”‚ users (...)     â”‚                 â”‚
		// â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
		// â”‚ DELETE          â”‚      âŒ         â”‚ DELETE FROM     â”‚ Modifica datos  â”‚
		// â”‚                 â”‚                 â”‚ users WHERE...  â”‚                 â”‚
		// â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
		// â”‚ DDL (CREATE/    â”‚      âŒ         â”‚ CREATE TABLE    â”‚ Estructura DB   â”‚
		// â”‚ ALTER/DROP)     â”‚                 â”‚ users (...)     â”‚                 â”‚
		// â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
		//
		// NOTA: Solo las queries SELECT se cachean. Las queries que modifican
		// datos (INSERT, UPDATE, DELETE, DDL) NO se cachean por seguridad.
		CacheEnabled: true,
		CacheSize:    3000,             // Cache personalizado
		CacheTTL:     20 * time.Minute, // TTL personalizado
		CacheCleanup: 8 * time.Minute,  // Limpieza personalizada

		// SQL Validation configuration
		// La validaciÃ³n SQL proporciona una capa de seguridad adicional al analizar
		// y validar todas las consultas antes de su ejecuciÃ³n. Previene inyecciones
		// SQL, controla quÃ© tipos de comandos estÃ¡n permitidos, y registra intentos
		// de violaciÃ³n de seguridad para auditorÃ­a y monitoreo.
		//
		// NIVELES DE SEGURIDAD Y COMANDOS PERMITIDOS:
		// â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
		// â”‚ Tipo de Comando â”‚ Permitido       â”‚ Ejemplo         â”‚ Uso TÃ­pico      â”‚
		// â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
		// â”‚ SELECT          â”‚      âœ…         â”‚ SELECT * FROM   â”‚ Consultas       â”‚
		// â”‚                 â”‚                 â”‚ users           â”‚ de lectura      â”‚
		// â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
		// â”‚ INSERT          â”‚      âœ…         â”‚ INSERT INTO     â”‚ InserciÃ³n de    â”‚
		// â”‚                 â”‚                 â”‚ users (...)     â”‚ datos           â”‚
		// â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
		// â”‚ UPDATE          â”‚      âœ…         â”‚ UPDATE users    â”‚ ModificaciÃ³n    â”‚
		// â”‚                 â”‚                 â”‚ SET name = ?    â”‚ de datos        â”‚
		// â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
		// â”‚ DELETE          â”‚      âœ…         â”‚ DELETE FROM     â”‚ EliminaciÃ³n     â”‚
		// â”‚                 â”‚                 â”‚ users WHERE...  â”‚ de datos        â”‚
		// â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
		// â”‚ CREATE TABLE    â”‚      âŒ         â”‚ CREATE TABLE    â”‚ Estructura DB   â”‚
		// â”‚                 â”‚                 â”‚ users (...)     â”‚ (bloqueado)     â”‚
		// â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
		// â”‚ DROP TABLE      â”‚      âŒ         â”‚ DROP TABLE      â”‚ Estructura DB   â”‚
		// â”‚                 â”‚                 â”‚ users           â”‚ (bloqueado)     â”‚
		// â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
		// â”‚ ALTER TABLE     â”‚      âŒ         â”‚ ALTER TABLE     â”‚ Estructura DB   â”‚
		// â”‚                 â”‚                 â”‚ users ADD...    â”‚ (bloqueado)     â”‚
		// â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
		// â”‚ CALL/EXECUTE    â”‚      âŒ         â”‚ CALL procedure  â”‚ Stored Procs    â”‚
		// â”‚                 â”‚                 â”‚ (param)         â”‚ (bloqueado)     â”‚
		// â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
		//
		// CONFIGURACIÃ“N ACTUAL:
		// â€¢ ValidationEnabled: true (validaciÃ³n activa)
		// â€¢ StrictMode: false (modo permisivo)
		// â€¢ AllowDDL: false (no permite cambios de estructura)
		// â€¢ AllowDML: true (permite modificaciÃ³n de datos)
		// â€¢ AllowStoredProcs: false (no permite stored procedures)
		// â€¢ MaxQueryLength: 8000 caracteres (lÃ­mite de longitud)
		// â€¢ LogViolations: true (registra intentos de violaciÃ³n)
		//
		// PROTECCIÃ“N CONTRA INYECCIÃ“N SQL:
		// â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
		// â”‚ Query Maliciosa â”‚ DetecciÃ³n       â”‚ AcciÃ³n          â”‚ Resultado       â”‚
		// â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
		// â”‚ SELECT * FROM   â”‚     âŒ          â”‚ Bloqueada       â”‚ Error de        â”‚
		// â”‚ users; DROP     â”‚                 â”‚ automÃ¡ticamente â”‚ validaciÃ³n      â”‚
		// â”‚ TABLE users;    â”‚                 â”‚                 â”‚                 â”‚
		// â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
		// â”‚ SELECT * FROM   â”‚     âŒ          â”‚ Bloqueada       â”‚ Error de        â”‚
		// â”‚ users WHERE     â”‚                 â”‚ automÃ¡ticamente â”‚ validaciÃ³n      â”‚
		// â”‚ id = 1 OR 1=1   â”‚                 â”‚                 â”‚                 â”‚
		// â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
		// â”‚ SELECT * FROM   â”‚     âœ…          â”‚ Permitida       â”‚ EjecuciÃ³n       â”‚
		// â”‚ users WHERE     â”‚                 â”‚ (con parÃ¡metros â”‚ normal          â”‚
		// â”‚ id = ?          â”‚                 â”‚ seguros)        â”‚                 â”‚
		// â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
		//
		// BENEFICIOS DE SEGURIDAD:
		// â€¢ PrevenciÃ³n de inyecciÃ³n SQL: Bloquea queries maliciosas
		// â€¢ Control de acceso: Solo comandos permitidos
		// â€¢ AuditorÃ­a completa: Registra todos los intentos
		// â€¢ Cumplimiento: Cumple estÃ¡ndares de seguridad
		ValidationEnabled: true,
		StrictMode:        false, // Modo no estricto
		AllowDDL:          false, // No permitir DDL
		AllowDML:          true,  // Permitir DML
		AllowStoredProcs:  false, // No permitir stored procedures
		MaxQueryLength:    8000,  // Longitud mÃ¡xima personalizada
		LogViolations:     true,

		// Performance configuration
		// Esta configuraciÃ³n optimiza el rendimiento del servidor para manejar
		// mÃºltiples conexiones concurrentes y procesar requests de manera eficiente.
		// Los workers procesan requests en paralelo, mientras que el rate limiting
		// protege contra sobrecarga del sistema y ataques de denegaciÃ³n de servicio.
		//
		// ARQUITECTURA DE PROCESAMIENTO:
		// â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
		// â”‚ Componente      â”‚ Cantidad        â”‚ FunciÃ³n         â”‚ Rendimiento     â”‚
		// â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
		// â”‚ Workers         â”‚ 30 goroutines   â”‚ Procesan        â”‚ 30 requests     â”‚
		// â”‚                 â”‚                 â”‚ requests en     â”‚ simultÃ¡neos     â”‚
		// â”‚                 â”‚                 â”‚ paralelo        â”‚                 â”‚
		// â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
		// â”‚ Queue Buffer    â”‚ 1500 requests   â”‚ Almacena        â”‚ Evita pÃ©rdida   â”‚
		// â”‚                 â”‚                 â”‚ requests        â”‚ de requests     â”‚
		// â”‚                 â”‚                 â”‚ pendientes      â”‚                 â”‚
		// â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
		// â”‚ Rate Limiter    â”‚ 150 req/s       â”‚ Controla        â”‚ Protege contra  â”‚
		// â”‚                 â”‚                 â”‚ velocidad       â”‚ sobrecarga      â”‚
		// â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
		// â”‚ Burst Size      â”‚ 300 requests    â”‚ Permite picos   â”‚ Flexibilidad    â”‚
		// â”‚                 â”‚                 â”‚ temporales      â”‚ en trÃ¡fico      â”‚
		// â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
		//
		// ESCENARIOS DE CARGA Y RENDIMIENTO:
		// â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
		// â”‚ Escenario       â”‚ Requests/s      â”‚ Workers         â”‚ Latencia        â”‚
		// â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
		// â”‚ Carga baja      â”‚ 10-50 req/s     â”‚ 10-15 workers   â”‚ <50ms           â”‚
		// â”‚                 â”‚                 â”‚ activos         â”‚                 â”‚
		// â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
		// â”‚ Carga normal    â”‚ 50-150 req/s    â”‚ 15-25 workers   â”‚ 50-100ms        â”‚
		// â”‚                 â”‚                 â”‚ activos         â”‚                 â”‚
		// â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
		// â”‚ Carga alta      â”‚ 150-300 req/s   â”‚ 25-30 workers   â”‚ 100-200ms       â”‚
		// â”‚                 â”‚ (burst)         â”‚ activos         â”‚                 â”‚
		// â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
		// â”‚ Sobre carga     â”‚ >300 req/s      â”‚ Rate limited    â”‚ 429 (Too Many)  â”‚
		// â”‚                 â”‚                 â”‚ (protegido)     â”‚                 â”‚
		// â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
		//
		// CONFIGURACIÃ“N ACTUAL:
		// â€¢ Workers: 30 goroutines (procesamiento paralelo)
		// â€¢ QueueSize: 1500 requests (buffer de espera)
		// â€¢ RateLimit: 150 requests/segundo (control de velocidad)
		// â€¢ BurstSize: 300 requests (permite picos temporales)
		//
		// BENEFICIOS DE RENDIMIENTO:
		// â€¢ Procesamiento paralelo: 30 requests simultÃ¡neos
		// â€¢ Buffer de espera: Evita pÃ©rdida de requests
		// â€¢ Rate limiting: Protege contra sobrecarga
		// â€¢ Burst handling: Maneja picos de trÃ¡fico
		Workers:   30,   // Workers personalizados
		QueueSize: 1500, // TamaÃ±o de cola personalizado
		RateLimit: 150,  // Rate limit personalizado
		BurstSize: 300,  // Burst size personalizado

		// Database configuration
		// La configuraciÃ³n de la base de datos optimiza el pool de conexiones
		// para maximizar el rendimiento y minimizar el uso de recursos. Controla
		// cuÃ¡ntas conexiones se mantienen abiertas, cuÃ¡ntas estÃ¡n disponibles
		// para uso inmediato, y cuÃ¡nto tiempo pueden permanecer activas.
		//
		// ARQUITECTURA DEL POOL DE CONEXIONES:
		// â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
		// â”‚ Tipo ConexiÃ³n   â”‚ Cantidad        â”‚ Estado          â”‚ Uso             â”‚
		// â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
		// â”‚ Conexiones      â”‚ 30 conexiones   â”‚ Idle (listas)   â”‚ Uso inmediato   â”‚
		// â”‚ Idle            â”‚                 â”‚ para usar       â”‚ sin overhead    â”‚
		// â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
		// â”‚ Conexiones      â”‚ 80 conexiones   â”‚ MÃ¡ximo total    â”‚ Escala segÃºn    â”‚
		// â”‚ MÃ¡ximas         â”‚                 â”‚ permitidas      â”‚ demanda         â”‚
		// â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
		// â”‚ Lifetime        â”‚ 12 minutos      â”‚ Tiempo mÃ¡ximo   â”‚ Evita conexionesâ”‚
		// â”‚                 â”‚                 â”‚ por conexiÃ³n    â”‚ obsoletas       â”‚
		// â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
		//
		// ESCENARIOS DE USO Y RENDIMIENTO:
		// â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
		// â”‚ Escenario       â”‚ Conexiones      â”‚ Tiempo Respuestaâ”‚ Eficiencia      â”‚
		// â”‚                 â”‚ Activas         â”‚                 â”‚                 â”‚
		// â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
		// â”‚ Carga baja      â”‚ 5-15 conexiones â”‚ <10ms           â”‚ Muy eficiente   â”‚
		// â”‚                 â”‚ (idle ready)    â”‚                 â”‚                 â”‚
		// â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
		// â”‚ Carga normal    â”‚ 15-50 conexionesâ”‚ 10-50ms         â”‚ Eficiente       â”‚
		// â”‚                 â”‚ (mixed)         â”‚                 â”‚                 â”‚
		// â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
		// â”‚ Carga alta      â”‚ 50-80 conexionesâ”‚ 50-200ms        â”‚ Moderado        â”‚
		// â”‚                 â”‚ (near max)      â”‚                 â”‚                 â”‚
		// â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
		// â”‚ Sobre carga     â”‚ >80 conexiones  â”‚ Queue/wait      â”‚ Protegido       â”‚
		// â”‚                 â”‚ (rate limited)  â”‚                 â”‚                 â”‚
		// â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
		//
		// CONFIGURACIÃ“N ACTUAL:
		// â€¢ PoolIdle: 30 conexiones (listas para uso inmediato)
		// â€¢ PoolOpen: 80 conexiones (mÃ¡ximo total permitidas)
		// â€¢ ConnLifetime: 12 minutos (tiempo mÃ¡ximo por conexiÃ³n)
		//
		// BENEFICIOS DEL POOL DE CONEXIONES:
		// â€¢ Conexiones reutilizables: Evita overhead de crear/cerrar
		// â€¢ Escalabilidad automÃ¡tica: Se adapta a la demanda
		// â€¢ ProtecciÃ³n contra sobrecarga: LÃ­mite mÃ¡ximo de conexiones
		// â€¢ Limpieza automÃ¡tica: Conexiones se renuevan cada 12 min
		//
		// GESTIÃ“N DE RECURSOS:
		// â€¢ Memoria por conexiÃ³n: ~1-2 MB (depende del driver)
		// â€¢ Memoria total idle: ~30-60 MB (30 conexiones Ã— 1-2 MB)
		// â€¢ Memoria mÃ¡xima: ~80-160 MB (80 conexiones Ã— 1-2 MB)
		// â€¢ RenovaciÃ³n automÃ¡tica: Cada 12 minutos
		PoolIdle:     30,               // Conexiones idle personalizadas
		PoolOpen:     80,               // Conexiones abiertas personalizadas
		ConnLifetime: 12 * time.Minute, // Lifetime personalizado

		// Monitoring configuration
		// El sistema de monitoreo proporciona mÃ©tricas en tiempo real sobre
		// el rendimiento del servidor, incluyendo estadÃ­sticas de queries,
		// uso de recursos, y estado de las conexiones. Es esencial para
		// el mantenimiento proactivo y la optimizaciÃ³n del rendimiento.
		//
		// MÃ‰TRICAS MONITOREADAS EN TIEMPO REAL:
		// â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
		// â”‚ CategorÃ­a       â”‚ MÃ©tricas        â”‚ Frecuencia      â”‚ Uso             â”‚
		// â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
		// â”‚ Rendimiento     â”‚ Requests/s      â”‚ Cada 45s        â”‚ AnÃ¡lisis de     â”‚
		// â”‚                 â”‚ Latencia P95    â”‚                 â”‚ rendimiento     â”‚
		// â”‚                 â”‚ Throughput      â”‚                 â”‚                 â”‚
		// â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
		// â”‚ Recursos        â”‚ CPU Usage       â”‚ Cada 45s        â”‚ DetecciÃ³n de    â”‚
		// â”‚                 â”‚ Memory Usage    â”‚                 â”‚ cuellos de      â”‚
		// â”‚                 â”‚ Goroutines      â”‚                 â”‚ botella         â”‚
		// â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
		// â”‚ Base de Datos   â”‚ Active Conns    â”‚ Cada 45s        â”‚ OptimizaciÃ³n    â”‚
		// â”‚                 â”‚ Idle Conns      â”‚                 â”‚ del pool        â”‚
		// â”‚                 â”‚ Query Time      â”‚                 â”‚                 â”‚
		// â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
		// â”‚ Cache           â”‚ Hit Rate        â”‚ Cada 45s        â”‚ Eficiencia del  â”‚
		// â”‚                 â”‚ Miss Rate       â”‚                 â”‚ cache           â”‚
		// â”‚                 â”‚ Size            â”‚                 â”‚                 â”‚
		// â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
		// â”‚ Seguridad       â”‚ Violations      â”‚ Cada 45s        â”‚ DetecciÃ³n de    â”‚
		// â”‚                 â”‚ Blocked Queries â”‚                 â”‚ ataques         â”‚
		// â”‚                 â”‚ Rate Limits     â”‚                 â”‚                 â”‚
		// â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
		//
		// EJEMPLOS DE REPORTES DE MONITOREO:
		// â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
		// â”‚ MÃ©trica         â”‚ Valor Actual    â”‚ Umbral          â”‚ Estado          â”‚
		// â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
		// â”‚ Requests/s      â”‚ 125 req/s       â”‚ <150 req/s      â”‚ âœ… Normal       â”‚
		// â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
		// â”‚ Latencia P95    â”‚ 85ms            â”‚ <100ms          â”‚ âœ… Normal       â”‚
		// â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
		// â”‚ CPU Usage       â”‚ 45%             â”‚ <80%            â”‚ âœ… Normal       â”‚
		// â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
		// â”‚ Memory Usage    â”‚ 180MB           â”‚ <500MB          â”‚ âœ… Normal       â”‚
		// â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
		// â”‚ Cache Hit Rate  â”‚ 78%             â”‚ >70%            â”‚ âœ… Eficiente    â”‚
		// â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
		// â”‚ Active Conns    â”‚ 45/80           â”‚ <80             â”‚ âœ… Normal       â”‚
		// â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
		// â”‚ Security Viol.  â”‚ 3 (Ãºltima hora) â”‚ <10/hour        â”‚ âœ… Seguro       â”‚
		// â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
		//
		// CONFIGURACIÃ“N ACTUAL:
		// â€¢ MonitoringEnabled: true (monitoreo activo)
		// â€¢ MonitoringInterval: 45 segundos (frecuencia de reportes)
		//
		// BENEFICIOS DEL MONITOREO:
		// â€¢ DetecciÃ³n proactiva: Identifica problemas antes de que afecten
		// â€¢ OptimizaciÃ³n continua: Datos para mejorar rendimiento
		// â€¢ Alertas automÃ¡ticas: Notificaciones cuando se superan umbrales
		// â€¢ AnÃ¡lisis histÃ³rico: Tendencias y patrones de uso
		// â€¢ Cumplimiento: Registros para auditorÃ­a y compliance
		MonitoringEnabled:  true,
		MonitoringInterval: 45 * time.Second, // Intervalo personalizado

		// Heartbeat configuration
		// El sistema de heartbeat monitorea la conectividad entre clientes
		// y servidor para detectar desconexiones rÃ¡pidamente. EnvÃ­a seÃ±ales
		// periÃ³dicas para verificar que la conexiÃ³n estÃ© activa y limpia
		// automÃ¡ticamente las conexiones de clientes que ya no responden.
		//
		// ARQUITECTURA DEL SISTEMA DE HEARTBEAT:
		// â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
		// â”‚ Componente      â”‚ Frecuencia      â”‚ FunciÃ³n         â”‚ Estado          â”‚
		// â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
		// â”‚ Cliente PING    â”‚ Cada 15s        â”‚ EnvÃ­a seÃ±al     â”‚ Activo          â”‚
		// â”‚                 â”‚                 â”‚ de vida         â”‚                 â”‚
		// â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
		// â”‚ Servidor PONG   â”‚ Inmediato       â”‚ Responde        â”‚ Conectado       â”‚
		// â”‚                 â”‚ (<5s)           â”‚ al PING         â”‚                 â”‚
		// â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
		// â”‚ Timeout         â”‚ 5s mÃ¡ximo       â”‚ Detecta         â”‚ Desconectado    â”‚
		// â”‚                 â”‚                 â”‚ desconexiÃ³n     â”‚                 â”‚
		// â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
		// â”‚ Cleanup         â”‚ Cada 1 min      â”‚ Limpia clientes â”‚ Mantiene        â”‚
		// â”‚                 â”‚                 â”‚ inactivos       â”‚ lista limpia    â”‚
		// â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
		//
		// ESCENARIOS DE CONECTIVIDAD Y DETECCIÃ“N:
		// â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
		// â”‚ Escenario       â”‚ Tiempo          â”‚ AcciÃ³n          â”‚ Resultado       â”‚
		// â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
		// â”‚ ConexiÃ³n normal â”‚ 0-5s            â”‚ PING â†’ PONG     â”‚ âœ… Conectado    â”‚
		// â”‚                 â”‚                 â”‚ inmediato       â”‚                 â”‚
		// â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
		// â”‚ Latencia alta   â”‚ 5-15s           â”‚ PING â†’ PONG     â”‚ âš ï¸ Lento pero   â”‚
		// â”‚                 â”‚                 â”‚ tardÃ­o          â”‚ conectado       â”‚
		// â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
		// â”‚ DesconexiÃ³n     â”‚ >15s            â”‚ PING â†’ timeout  â”‚ âŒ Desconectado â”‚
		// â”‚ parcial         â”‚                 â”‚                 â”‚                 â”‚
		// â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
		// â”‚ DesconexiÃ³n     â”‚ >1 min          â”‚ Cleanup         â”‚ ğŸ—‘ï¸ Cliente      â”‚
		// â”‚ total           â”‚                 â”‚ automÃ¡tico      â”‚ eliminado       â”‚
		// â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
		//
		// CONFIGURACIÃ“N ACTUAL:
		// â€¢ HeartbeatInterval: 15 segundos (frecuencia de PING)
		// â€¢ HeartbeatTimeout: 5 segundos (tiempo mÃ¡ximo de respuesta)
		// â€¢ HeartbeatMaxMissed: 5 heartbeats (mÃ¡ximo perdidos antes de desconectar)
		// â€¢ HeartbeatCleanup: 1 minuto (limpieza de clientes inactivos)
		// â€¢ HeartbeatMaxClientAge: 2 minutos (edad mÃ¡xima de registros de cliente)
		//
		// BENEFICIOS DEL SISTEMA DE HEARTBEAT:
		// â€¢ DetecciÃ³n rÃ¡pida: Identifica desconexiones en 15-20 segundos
		// â€¢ Limpieza automÃ¡tica: Elimina clientes inactivos cada minuto
		// â€¢ RecuperaciÃ³n automÃ¡tica: Clientes se reconectan automÃ¡ticamente
		// â€¢ Monitoreo en tiempo real: Estado de conectividad actualizado
		// â€¢ PrevenciÃ³n de recursos huÃ©rfanos: Libera memoria automÃ¡ticamente
		//
		// GESTIÃ“N DE RECURSOS:
		// â€¢ Memoria por cliente: ~1-2 KB (registro de estado)
		// â€¢ Overhead de red: ~100 bytes por heartbeat (mÃ­nimo)
		// â€¢ CPU overhead: <1% (procesamiento de heartbeats)
		// â€¢ Limpieza automÃ¡tica: Cada minuto libera memoria
		HeartbeatEnabled:      true,
		HeartbeatInterval:     15 * time.Second, // Intervalo personalizado
		HeartbeatTimeout:      5 * time.Second,  // Timeout personalizado
		HeartbeatMaxMissed:    5,                // MÃ¡ximo de heartbeats perdidos
		HeartbeatCleanup:      1 * time.Minute,  // Limpieza personalizada
		HeartbeatMaxClientAge: 2 * time.Minute,  // Edad mÃ¡xima del cliente
	}

	// Create server factory with custom configuration
	factory := server.NewServerFactory(config)

	// Start the server with our custom configuration
	ctx := context.Background()
	if err := factory.StartServer(ctx); err != nil {
		log.Fatal("Server failed:", err)
	}
}
